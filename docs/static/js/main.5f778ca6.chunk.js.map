{"version":3,"sources":["components/Table.js","components/MovieDetails.js","components/SearchBar.js","helpers/getMovies.js","App.js","hooks/useFetchMovies.js","reportWebVitals.js","index.js"],"names":["Table","movies","loading","filter","handleSelectMovie","ratings","filteredMovies","el","vote_average","className","scope","map","movie","onClick","src","poster_path","alt","original_title","id","length","MovieDetails","handleGoBack","type","overview","SearchBar","q","r","handleSearch","handleFilter","useState","query","setQuery","rating","setRating","placeholder","value","onChange","e","target","name","starCount","onStarClick","getMovies","url","a","fetch","resp","json","results","App","apiKey","discoveryUrl","state","setState","error","useEffect","then","useFetchMovies","searchUrl","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f778ca6.chunk.js","sourcesContent":["export const Table = ({ movies, loading, filter, handleSelectMovie }) => {\n\n  const ratings = [0, 2, 4, 6, 8, 10];\n\n  const greaterThan = (el) => {\n    return (\n      el.vote_average <= ratings[filter] &&\n      el.vote_average >= ratings[filter - 1]\n    );\n  };\n\n  let filteredMovies = [...movies];\n  if (filter) {\n    filteredMovies = movies.filter(greaterThan);\n  }\n\n  return (\n    <>\n      {loading ? (\n        <div className=\"p-3 alert alert-info\">Loading...</div>\n      ) : (\n        <table className=\"table table-dark\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Poster</th>\n              <th scope=\"col\">Title</th>\n              <th scope=\"col\">Rating</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredMovies.map((movie) => (\n              <tr key={movie.id} onClick={() => handleSelectMovie(movie)}>\n                <th scope=\"row\">\n                  <img\n                    className=\"thumb\"\n                    src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n                    alt={movie.original_title}\n                  />\n                </th>\n                <td className=\"align-middle\">{movie.original_title}</td>\n                <td className=\"align-middle\">{movie.vote_average}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n      {!filteredMovies.length && !loading && (\n        <div className=\"p-3 alert alert-danger no-results\">\n          No results found...\n        </div>\n      )}\n    </>\n  );\n};\n","export const MovieDetails = ({ movie, handleGoBack }) => {\n  return (\n    <div className=\"movie-card text-center\">\n      <div className=\"goback-container\">\n        <button\n          type=\"button\"\n          className=\"btn btn-primary float-left\"\n          onClick={handleGoBack}\n        >\n          Go Back\n        </button>\n      </div>\n      <h2 className=\"mt-4\">{movie.original_title}</h2>\n      <p>Rating: {movie.vote_average}</p>\n      <img\n        className=\"poster\"\n        src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n        alt={movie.original_title}\n      />\n      <p className=\"overview mt-4\">{movie.overview}</p>\n    </div>\n  );\n};\n","import { useState } from \"react\";\nimport StarRatingComponent from \"react-star-rating-component\";\n\nexport const SearchBar = ({ q, r, handleSearch, handleFilter }) => {\n  const [query, setQuery] = useState(q);\n  const [rating, setRating] = useState(r);\n\n  const HandleQueryChange = (e) => {\n    setQuery(e.target.value);\n    handleSearch(e.target.value);\n  };\n\n  const HandleRatingChange = (e) => {\n    e === rating ? setRating(0) : setRating(e);\n    handleFilter(e);\n  };\n\n  return (\n    <nav className=\"navbar navbar-light bg-light\">\n      <form className=\"form-inline\">\n        <input\n          className=\"form-control mr-sm-2\"\n          type=\"search\"\n          placeholder=\"Search\"\n          aria-label=\"Search\"\n          value={query}\n          onChange={HandleQueryChange}\n        />\n        <StarRatingComponent\n          name=\"rate1\"\n          starCount={5}\n          value={rating}\n          onStarClick={HandleRatingChange}\n        />\n      </form>\n    </nav>\n  );\n};\n","export const getMovies = async (url) => {\n  const resp = await fetch(url);\n  const { results } = await resp.json();\n\n  return results;\n};\n","import { useState } from \"react\";\nimport { Table } from \"./components/Table\";\nimport { MovieDetails } from \"./components/MovieDetails\";\nimport { SearchBar } from \"./components/SearchBar\";\nimport { useFetchMovies } from \"./hooks/useFetchMovies\";\n\nimport \"./App.css\";\n\nfunction App() {\n  const apiKey = \"572f100e521523a3f80677828f68ede3\";\n  const discoveryUrl = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_watch_monetization_types=flatrate`;\n\n  const [state, setState] = useState({\n    url: discoveryUrl,\n    filter: 0,\n    movie: null,\n    query: \"\",\n  });\n\n  const { url, filter, movie, query } = state;\n\n  const { movies, loading } = useFetchMovies(url);\n\n  const handleSearch = (q) => {\n    const searchUrl = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${q}&page=1&include_adult=false`;\n    q !== \"\"\n      ? setState({\n          ...state,\n          url: searchUrl,\n          query: q,\n        })\n      : setState({\n          ...state,\n          url: discoveryUrl,\n          query: q,\n        });\n  };\n\n  const handleFilter = (value) => {\n    value === filter\n      ? setState({\n          ...state,\n          filter: 0,\n        })\n      : setState({\n          ...state,\n          filter: value,\n        });\n  };\n\n  const handleSelectMovie = (movie) => {\n    setState({\n      ...state,\n      movie,\n    });\n  };\n\n  const handleGoBack = () => {\n    setState({\n      ...state,\n      movie: null,\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"mt-4\">The Movie Theater Challenge</h1>\n      {movie ? (\n        <MovieDetails movie={movie} handleGoBack={handleGoBack} />\n      ) : (\n        <>\n          <SearchBar\n            q={query}\n            r={filter}\n            handleSearch={handleSearch}\n            handleFilter={handleFilter}\n          />\n          <Table\n            movies={movies}\n            filter={filter}\n            handleSelectMovie={handleSelectMovie}\n            handleSearch={handleSearch}\n            handleFilter={handleFilter}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { useState, useEffect } from \"react\";\nimport { getMovies } from \"../helpers/getMovies\";\n\nexport const useFetchMovies = (url) => {\n  const [state, setState] = useState({\n    movies: [],\n    error: null,\n    loading: true,\n  });\n\n  useEffect(() => {\n    getMovies(url).then((movies) =>\n      setState({\n        movies,\n        error: null,\n        loading: false,\n      })\n    );\n  }, [url]);\n\n  return state;\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}